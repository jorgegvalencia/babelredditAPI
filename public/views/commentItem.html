<div class="media post">
    <div class="votes">
        <span>{{::model.votes}}</span>
        <br>
        <a><i class="glyphicon glyphicon-thumbs-up upvote"></i></a>
        <a><i class="glyphicon glyphicon-thumbs-down downvote"></i></a>
    </div>
    <div class="media-body">
        <p class="media-heading">{{::model.author.username }}&nbsp<span class="small">{{::model.creation_date | ago}}</span></p>
        <div class="comment">
            {{::model.text}}
        </div>
        <br>
        <p class="commands">
            <button class="btn btn-primary btn-sm small" ng-click="toggleReply()" ng-show="isLogged() && reply == false">Contestar</button>
        </p>
        <div class="reply" ng-show="reply">
            <div class="row">
                <!-- ng-if="logged()" -->
                <div class="col-xs-12">
                    <div>
                        <textarea class="form-control" name="" id="" rows="5" cols="1" ng-model="text"></textarea>
                    </div>
                    <button class="btn btn-primary btn-sm" ng-click="sendComment(model._id)">Enviar comentario</button>
                    <button class="btn btn-primary btn-sm" ng-click="reply = false">Cancelar</button>
                </div>
            </div>
        </div>
        <comment-item ng-repeat="item in model.children" item="item" is-logged="isLogged()"></comment-item>
    </div>
</div>
